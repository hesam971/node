<%- include ('Header') %>
            <div class="col-sm-11 p-3" style="margin-left: 20px; position: relative;">
                <h2> Manage Articles </h2>
                <a href="/add-article" class="btn btn-primary" style="position: absolute; top: 10px; right: 20px;"> Add Article </a>
                    <table class="table" style="margin-top: 30px;">
                        <thead>
                            <tr>
                                <th scope="col"> Article Title </th>
                                <th scope="col"> Date Published </th>
                                <th scope="col"> Author </th>
                                <th scope="col"> Edit/Delete </th>
                            </tr>
                        </thead>
                        <tbody>
                            <% if(resu != 'undefined'){ %>
                                <% resu.forEach(function(result){ %>
                                    <tr>
                                        <th scope="row"> <%= result.title %> </th>
                                        <td>data</td>
                                        <td> <%= result.author %> </td>
                                        <td>
                                            <a href="/edit-article/<%= result.id %>" class="btn btn-warning">Edit</a>
                                            <a data-id="<%= result.id %>" class="deleteId btn btn-danger">Delete</a>
                                        </td>
                                    </tr>
                                <% }) %>
                            <% } %>
                        </tbody>
                    </table>
            </div>



        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-W8fXfP3gkOKtndU4JGtKDvXbO53Wy8SZCQHczT5FMiiqmQfUpWbYdTil/SxwZgAN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js" integrity="sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
        <script type="text/javascript">
        $(document).ready(function () {
        $('.navbar-light .dmenu').hover(function () {
                $(this).find('.sm-menu').first().stop(true, true).slideDown(150);
            }, function () {
                $(this).find('.sm-menu').first().stop(true, true).slideUp(105)
            });

            $('.deleteId').click(function(e){
                const deleteId = $(e.target);
                const deletId_ = deleteId.attr('data-id');
                $.ajax({
                    type:'DELETE',
                    url:'/delete-article/' + deletId_,
                    success:function(response){
                        window.location.href = '/articles'
                    }
                })
            })
        });
        </script>
</body>
</html>